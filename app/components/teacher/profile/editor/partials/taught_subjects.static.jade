.md-title Materias
md-divider

div(
  ng-if='!$ctrl.teacher.taughtSubjects.length'
  layout-padding
)
  .md-subhead(
    layout='column'
    layout-align='center center'
  )
    | No especificaste que enseñas alguna materia todavia.
    br
    md-button.md-raised(ng-click='$ctrl.addSubject()') Agregá tu primer materia

ctz-spacer-xs

div(layout='column')
  div(ng-if='$ctrl.teacher.taughtSubjects.length')
    div(
      ng-repeat='ts in $ctrl.teacher.taughtSubjects'
      ng-if='!ts._destroy'
    )
      div(
        layout='row'
        layout-align='strech end'
      )
        md-input-container(flex)
          label Nivel
          md-select(
            ng-model='ts.level'
            ng-change='$ctrl.setMetaLevel(ts)'
            ng-init='$ctrl.setMetaLevel(ts)'
            required
          )
            md-option(
              ng-repeat='$level in $ctrl.subjectGroups track by $level.name'
              ng-value='$level.name'
              ng-bind='$level.name  || "Ninguno"'
            )

        md-input-container(flex)
          label Materia
          md-select(
            ng-model='ts.name'
            ng-disabled='!ts.$level'
            required
          )
            md-option(
              ng-repeat='s in ts.$level.subjects'
              ng-value='s'
              ng-bind='s'
            )

        md-button.md-icon-button(ng-click='$ctrl.markForDestruction(ts)')
          md-icon(md-svg-src='/images/icons/delete.svg')

      ctz-spacer-xs
   
  md-button.no-margin(
    ng-click='$ctrl.addSubject()'
    ng-if='$ctrl.teacher.taughtSubjects.length'
  )
    md-icon(md-svg-src='/images/icons/add.svg')
