div(
  block='ctz-period-picker'
  layout-fill
  layout='column'
)
  h3
    Selected period

    div
      strong Week Day: 
      span(ng-bind='$ctrl.translatedWdays[$ctrl.selectedPeriod.wday]')

    div
      strong Start SFSOD: 
      span(ng-bind='$ctrl.selectedPeriod.startY')

    div
      strong Height: 
      span(ng-bind='$ctrl.selectedPeriod.height')

  h3 Periods

  div(layout='row' layout-padding)
    div(ng-repeat='p in $ctrl.periods')
      div
        strong Desc: 
        span(ng-bind=':: p.desc')

      div
        strong Start SFSOW: 
        span(ng-bind=':: p.startSfsow | number')

      div
        strong Height:
        span(ng-bind=':: p.height | number')

      md-divider(ng-if='$middle')

  div(flex layout='row')
    div(
      elem='wday'
      flex
      ng-repeat='wdayName in ::$ctrl.translatedWdays track by $index'
      layout='column'
      layout-align='start stretch'
      ng-init="segments = $ctrl.segmentsIntercepting($index)"
    )
      div(elem='wday-header')
        span {{:: wdayName }} ({{:: $index }})

        md-divider

        div
          strong SFSOW: 
          span {{:: $ctrl.wdayStartSfsow($index) | number }}

        md-divider

        div
          strong SEGMENTS COUNT: 
          span {{:: segments.length }}

      div(
        flex elem='wday-body'
        ng-mouseover='$ctrl.setSelectedPeriod($index, $event)'
        ng-mouseleave='$ctrl.unsetSelectedPeriod()'
      )
        div(
          elem='step'
          ng-repeat='_ in ::$ctrl.steps track by $index'
          ng-style='{height: $ctrl.stepHeight + "%"}'
        )

        div(
          elem='segment' mod-once='selected'
          ng-if='$ctrl.selectedPeriod.wday === $index'
          ng-style='{\
            top: $ctrl.selectedPeriod.startY + "%", \
            height: $ctrl.selectedPeriod.height + "%" \
          }'
        )
          | Elejir Horario

        div(
          elem='segment'
          ng-repeat='s in ::segments track by $index'
          ng-style='{\
            top: s.startY + "%", \
            height: s.height + "%" \
          }'
        )
          div(ng-repeat='(k, v) in s track by $index')
            strong {{:: k}}: 
            span(ng-bind=':: v')

      div
        strong SFSOW: 
        span {{:: $ctrl.wdayEndSfsow($index) | number }}
